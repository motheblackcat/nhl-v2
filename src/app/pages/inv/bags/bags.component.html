<ion-header>
  <ion-toolbar>
    <ion-title><b>{{ title | titlecase }}</b></ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding">
  <ion-text *ngIf="subtitle"><i>{{ subtitle }}</i></ion-text>
  <ion-list lines="none"
            [formGroup]="form"
            (ionChange)="updateSheet()">
    <ion-item lines="none">
      <ion-input label="Charge max. origine / mÃ©tier :"
                 type="number"
                 step="0.1"
                 min="0"
                 placeholder="0"
                 formControlName="max"></ion-input>
      <ion-label>Kg</ion-label>
    </ion-item>
    <ion-item class="ion-justify-content-between">
      <ion-label>Sacs</ion-label>
      <ion-label class="ion-text-end">Poids max. (Kg)</ion-label>
    </ion-item>
    <ng-container formArrayName="bags">
      <ion-item *ngFor="let bag of bags.controls; let i = index"
                lines="none"
                [formGroupName]="i">
        <ion-icon slot="start"
                  name="close-circle"
                  color="dark"
                  (click)="removeItem('bags', i)"></ion-icon>
        <ion-input type="text"
                   placeholder="Nom"
                   formControlName="name"
                   class="ion-text-capitalize"></ion-input>
        <ion-input class="ion-text-end"
                   type="number"
                   step="0.1"
                   min="0"
                   placeholder="0"
                   formControlName="max"></ion-input>
      </ion-item>
    </ng-container>
    <ion-item (click)="addItem('bags')">
      <ion-icon slot="start"
                name="add-circle"
                color="dark"></ion-icon>
      <ion-label>Ajouter un sac</ion-label>
    </ion-item>
    <br>
    <ion-item class="ion-justify-content-between">
      <ion-label>Bourses</ion-label>
      <ion-label class="ion-text-end">P. O. max.</ion-label>
    </ion-item>
    <ng-container formArrayName="pooches">
      <ion-item *ngFor="let pooch of pooches.controls; let i = index"
                lines="none"
                [formGroupName]="i">
        <ion-icon slot="start"
                  name="close-circle"
                  color="dark"
                  (click)="removeItem('pooches', i)"></ion-icon>
        <ion-input type="text"
                   placeholder="Nom"
                   formControlName="name"
                   class="ion-text-capitalize"></ion-input>
        <ion-input class="ion-text-end"
                   type="number"
                   step="0.1"
                   min="0"
                   placeholder="0"
                   formControlName="max"></ion-input>
      </ion-item>
    </ng-container>
    <ion-item (click)="addItem('pooches')">
      <ion-icon slot="start"
                name="add-circle"
                color="dark"></ion-icon>
      <ion-label>Ajouter une bourse</ion-label>
    </ion-item>
  </ion-list>
</ion-content>