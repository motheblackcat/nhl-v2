<ion-header>
  <ion-toolbar>
    <ion-title><b>{{ title | titlecase }}</b></ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding"
             [formGroup]="form"
             (ionChange)="updateTotalWeight()">
  <ion-text *ngIf="subtitle"><i>{{ subtitle }}</i></ion-text>
  <ion-list>
    <ng-container *ngFor="let campName of campNames"
                  [formGroupName]="campName">
      <ion-item lines="none">
        <ion-input [label]="campName | titlecase"
                   type="text"
                   formControlName="name"
                   placeholder="Nom"
                   class="ion-text-capitalize"></ion-input>
      </ion-item>
      <ion-item lines="none">
        <ion-input label="PV"
                   labelPlacement="stacked"
                   type="number"
                   min="0"
                   placeholder="0"
                   formControlName="pv"></ion-input>
        <ion-input label="H"
                   labelPlacement="stacked"
                   type="number"
                   min="0"
                   placeholder="0"
                   formControlName="h"></ion-input>
        <ion-input label="Kg"
                   labelPlacement="stacked"
                   type="number"
                   step="0.1"
                   min="0"
                   placeholder="0"
                   formControlName="wei"></ion-input>
      </ion-item>
    </ng-container>
    <br>
    <ion-item lines="none"
              class="ion-justify-content-between">
      <ion-label>Nom</ion-label>
      <ion-label class="ion-text-end">Poids (Kg)</ion-label>
    </ion-item>
    <ng-container formArrayName="autres"
                  *ngFor="let control of autres.controls; let i = index">
      <ion-item lines="none"
                [formGroupName]="i">
        <ion-icon slot="start"
                  name="close-circle"
                  color="dark"
                  (click)="removeItem(i)"></ion-icon>
        <ion-input placeholder="Nom"
                   formControlName="name"
                   class="ion-text-capitalize"></ion-input>
        <ion-input class="ion-text-end"
                   type="number"
                   step="0.1"
                   min="0"
                   placeholder="0"
                   formControlName="wei"></ion-input>
      </ion-item>
    </ng-container>
    <ion-item lines="none"
              (click)="addItem()">
      <ion-icon slot="start"
                name="add-circle"
                color="dark"></ion-icon>
      <ion-label>Ajouter un objet</ion-label>
    </ion-item>
    <ion-item lines="none"
              class="ion-text-center">
      <ion-label>Poids Total {{ totalWeight }} Kg</ion-label>
    </ion-item>
  </ion-list>
</ion-content>