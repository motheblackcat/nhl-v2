<ion-header>
  <ion-toolbar>
    <ion-title><b>{{ title | titlecase }}</b></ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="ion-padding" [formGroup]="form" (ionChange)="updateTotalWeight()">
  <ion-text *ngIf="subtitle"><i>{{ subtitle }}</i></ion-text>
  <ion-list>
    <ng-container *ngFor="let campName of campNames" [formGroupName]="campName">
      <ion-item lines="none">
        <ion-label slot="start">{{ campName | titlecase  }}</ion-label>
        <ion-input type="text" formControlName="name" placeholder="Nom" class="ion-text-capitalize"></ion-input>
      </ion-item>
      <ion-item lines="none" class="ion-text-center">
        <ion-input type="number" min="0" placeholder="0" formControlName="pv"></ion-input>
        <ion-label>PV</ion-label>
        <ion-input type="number" min="0" placeholder="0" formControlName="h"></ion-input>
        <ion-label>H</ion-label>
        <ion-input type="number" step="0.1" min="0" placeholder="0" formControlName="wei"></ion-input>
        <ion-label>Kg</ion-label>
      </ion-item>
      <br>
    </ng-container>
    <ion-item lines="none" class="ion-justify-content-between">
      <ion-label>Nom</ion-label>
      <ion-label class="ion-text-end">Poids</ion-label>
    </ion-item>
    <ng-container formArrayName="autres" *ngFor="let control of autres.controls; let i = index">
      <ion-item lines="none" [formGroupName]="i">
        <ion-icon slot="start" name="trash" color="dark" (click)="removeItem(i)"></ion-icon>
        <ion-input placeholder="Nom" formControlName="name" class="ion-text-capitalize"></ion-input>
        <ion-input class="ion-text-end" type="number" step="0.1" min="0" placeholder="0" formControlName="wei"></ion-input>
        <ion-label>Kg</ion-label>
      </ion-item>
    </ng-container>
    <ion-item lines="none" (click)="addItem()">
      <ion-icon slot="start" name="add-circle" color="dark"></ion-icon>
      <ion-label>Ajouter un objet</ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label slot="end">Poids total: {{ totalWeight }} Kg</ion-label>
    </ion-item>
  </ion-list>
</ion-content>
